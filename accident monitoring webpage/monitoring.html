

<html>
    
  <head>
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">      
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link href="https://fonts.googleapis.com/css?family=Overlock+SC" rel="stylesheet">
      <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-app.js">
      <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-auth.js"> </script>
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-functions.js"></script>

      <script async defer
              src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBr3FsJSwhLAESsr6vlzCdVWVMvnlQLhYw&callback=initMap">
              <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBr3FsJSwhLAESsr6vlzCdVWVMvnlQLhYw&libraries=geometry">
      
      </script>
      
      <script>
        
      var map;
      
      function initMap() {
      map = new google.maps.Map(document.getElementById('map'), {
      zoom: 15,
      center: {lat: 11.1008768, lng:  76.9681706}
        });
    
       
    }
   
   
  </script>
<script>
    var marker=[];
   var config = {
    apiKey: "AIzaSyCvHTpoxMh5uU1E3GmYcuoYNoB6c8J09FQ",
    authDomain: "brakingbehaviour.firebaseapp.com",
    databaseURL: "https://brakingbehaviour.firebaseio.com",
    projectId: "brakingbehaviour",
    storageBucket: "brakingbehaviour.appspot.com",
    messagingSenderId: "190711987542"
  };
  firebase.initializeApp(config);

    var ref = firebase.database().ref('BrBehav/Acc');
    ref.on('value', function(snapshot) {
    	var lati,longi;
            var data = snapshot.val();
           for(i in data){
            lati=	data[i]['latitude'];
            longi=  data[i]['longitude'];
           
             var cityCircle = new google.maps.Circle({
            strokeColor:' #0800ff',
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: '#0800ff',
            fillOpacity: 0.5,
            map: map,
            center: {lat: lati, lng: longi},
            radius: 200
          });
               
        document.getElementById("acci").innerHTML="Accident Detected !";    
        }

                });
    /*var bref = firebase.database().ref('BrBehav/SpeedCheck/acc');
   bref.on('value', function(snapshot){
      var x,y,z;
        var data1= snapshot.val();
       x=data1['x'];
       y=data1['y'];
       z=data1['z'];
       if(x>20||y>20||z>20)
           
             {
        if(ijk==0)
             { move();
            ijk++;
             }
             }
       else{
           ijk=0;
       }
              
        
   });
    var bref = firebase.database().ref('BrBehav/SpeedCheck');
   bref.on('value', function(snapshot){
       var addr,spd;
       var data2=snapshot.val();
       addr=data2['Address'];
       spd=data2['speed'];  
       document.getElementById("location").innerHTML="Road :" + addr;
       document.getElementById("speed").innerHTML=spd + "Kmph";
        if(spd>30){
        document.getElementById("speed").innerHTML=spd + "Kmph" + "EXCEEDING SPEED LIMIT"} 
       console.log(addr);
       });
          
*/</script>
<style >
       #map {
        height: 500px;
        width: 1455px;
           position: relative;
       }
    .drdet { height: 75px; width: 50%; position: relative; margin-top: 30px; padding: 20px}
    .drdet1 { height: 65px; width: 50%; position:relative; margin-top:-30px}
    .address { height: 100px; width: 100%;}
    </style>
  </head>
  <body style="background-color:#212121;">
    <br>
      
  <div class='panel-body' style="margin-left:10px;padding-right:10px;" id="map"></div>
      <div class="address" style="color: white; font-size: 50px"><p id='acci'>Status</p></div>
      
     
      <!--<div class="address"><h1 style="font-size: 30px; color: azure; margin-left: 20px">Current Location</h1>
      <p id="location" style="color: aqua; font-size: 20px; margin-left: 60px"></p>
      </div>
      <div class="address"><h1 style="font-size: 30px; color: azure; margin-left: 20px">Current Speed</h1>
      <p id="speed" style="color: aqua; font-size: 20px; margin-left: 60px; float: left"></p>
      </div><br>
      <h1 style="font-size: 30px; color:azure; margin-left: 20px">Braking Behaviour</h1><br>
 <div class="drdet"> 
      <div class="w3-light-grey">
         
  <div id="myBar" class="w3-container w3-green w3-center" style="width:10%">10%</div>
      
        </div>
</div>
      <div class="drdet1"><p style="float: right; color: aqua">BAD</p><p style="float: left; color: aqua">GOOD</p></div>-->
<script>
   /* var ijk;
var width = 20;
function move() {
  var elem = document.getElementById("myBar");   
  
 //var id = setInterval(frame, 0);
 // function frame() {
  // }
     if (width >= 100) {
      document.getElementById("para").innerHTML="worst";
    } else {
      width++; 
      elem.style.width = width + '%'; 
      elem.innerHTML = width * 1  + '%';
    }
  
  
} */
</script>

  </body>
</html>